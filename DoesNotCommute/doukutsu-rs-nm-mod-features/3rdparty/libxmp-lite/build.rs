

fn main() {

    println!("cargo::rerun-if-changed=libxmp-lite-4.5.0");

    cc::Build::new()
        .files([
            "libxmp-lite-4.5.0/src/virtual.c",
            "libxmp-lite-4.5.0/src/format.c",
            "libxmp-lite-4.5.0/src/period.c",
            "libxmp-lite-4.5.0/src/player.c",
            "libxmp-lite-4.5.0/src/read_event.c",
            "libxmp-lite-4.5.0/src/dataio.c",
            "libxmp-lite-4.5.0/src/misc.c",
            //"libxmp-lite-4.5.0/src/mkstemp.c", 
            "libxmp-lite-4.5.0/src/md5.c",
            "libxmp-lite-4.5.0/src/lfo.c",
            "libxmp-lite-4.5.0/src/scan.c",
            "libxmp-lite-4.5.0/src/control.c",
            //"libxmp-lite-4.5.0/src/med_extras.c",
            "libxmp-lite-4.5.0/src/filter.c",
            "libxmp-lite-4.5.0/src/effects.c",
            "libxmp-lite-4.5.0/src/mixer.c",
            "libxmp-lite-4.5.0/src/mix_all.c",
            "libxmp-lite-4.5.0/src/load_helpers.c",
            "libxmp-lite-4.5.0/src/load.c",
            "libxmp-lite-4.5.0/src/hio.c",
            //"libxmp-lite-4.5.0/src/hmn_extras.c",
            //"libxmp-lite-4.5.0/src/far_extras.c",
            //"libxmp-lite-4.5.0/src/extras.c",
            "libxmp-lite-4.5.0/src/smix.c",
            //"libxmp-lite-4.5.0/src/filetype.c",
            "libxmp-lite-4.5.0/src/memio.c",
            //"libxmp-lite-4.5.0/src/tempfile.c",
            //"libxmp-lite-4.5.0/src/mix_paula.c",
            "libxmp-lite-4.5.0/src/win32.c",
            "libxmp-lite-4.5.0/src/loaders/common.c",
            //"libxmp-lite-4.5.0/src/loaders/iff.c",
            "libxmp-lite-4.5.0/src/loaders/itsex.c",
            //"libxmp-lite-4.5.0/src/loaders/asif.c",
            //"libxmp-lite-4.5.0/src/loaders/lzw.c",
            //"libxmp-lite-4.5.0/src/loaders/voltable.c",
            "libxmp-lite-4.5.0/src/loaders/sample.c",
            "libxmp-lite-4.5.0/src/loaders/xm_load.c",
            "libxmp-lite-4.5.0/src/loaders/mod_load.c",
            "libxmp-lite-4.5.0/src/loaders/s3m_load.c",
            //"libxmp-lite-4.5.0/src/loaders/stm_load.c",
            //"libxmp-lite-4.5.0/src/loaders/669_load.c",
            //"libxmp-lite-4.5.0/src/loaders/far_load.c",
            //"libxmp-lite-4.5.0/src/loaders/mtm_load.c",
            //"libxmp-lite-4.5.0/src/loaders/ptm_load.c",
            //"libxmp-lite-4.5.0/src/loaders/okt_load.c",
            //"libxmp-lite-4.5.0/src/loaders/ult_load.c",
            //"libxmp-lite-4.5.0/src/loaders/mdl_load.c",
            "libxmp-lite-4.5.0/src/loaders/it_load.c",
            //"libxmp-lite-4.5.0/src/loaders/stx_load.c",
            //"libxmp-lite-4.5.0/src/loaders/pt3_load.c",
            //"libxmp-lite-4.5.0/src/loaders/sfx_load.c",
            //"libxmp-lite-4.5.0/src/loaders/flt_load.c",
            //"libxmp-lite-4.5.0/src/loaders/st_load.c",
            //"libxmp-lite-4.5.0/src/loaders/emod_load.c",
            //"libxmp-lite-4.5.0/src/loaders/imf_load.c",
            //"libxmp-lite-4.5.0/src/loaders/digi_load.c",
            //"libxmp-lite-4.5.0/src/loaders/fnk_load.c",
            //"libxmp-lite-4.5.0/src/loaders/ice_load.c",
            //"libxmp-lite-4.5.0/src/loaders/liq_load.c",
            //"libxmp-lite-4.5.0/src/loaders/ims_load.c",
            //"libxmp-lite-4.5.0/src/loaders/masi_load.c",
            //"libxmp-lite-4.5.0/src/loaders/amf_load.c",
            //"libxmp-lite-4.5.0/src/loaders/psm_load.c",
            //"libxmp-lite-4.5.0/src/loaders/stim_load.c",
            //"libxmp-lite-4.5.0/src/loaders/mmd_common.c",
            //"libxmp-lite-4.5.0/src/loaders/mmd1_load.c",
            //"libxmp-lite-4.5.0/src/loaders/mmd3_load.c",
            //"libxmp-lite-4.5.0/src/loaders/rtm_load.c",
            //"libxmp-lite-4.5.0/src/loaders/dt_load.c",
            //"libxmp-lite-4.5.0/src/loaders/no_load.c",
            //"libxmp-lite-4.5.0/src/loaders/arch_load.c",
            //"libxmp-lite-4.5.0/src/loaders/sym_load.c",
            //"libxmp-lite-4.5.0/src/loaders/med2_load.c",
            //"libxmp-lite-4.5.0/src/loaders/med3_load.c",
            //"libxmp-lite-4.5.0/src/loaders/med4_load.c",
            //"libxmp-lite-4.5.0/src/loaders/dbm_load.c",
            //"libxmp-lite-4.5.0/src/loaders/umx_load.c",
            //"libxmp-lite-4.5.0/src/loaders/gdm_load.c",
            //"libxmp-lite-4.5.0/src/loaders/pw_load.c",
            //"libxmp-lite-4.5.0/src/loaders/gal5_load.c",
            //"libxmp-lite-4.5.0/src/loaders/gal4_load.c",
            //"libxmp-lite-4.5.0/src/loaders/mfp_load.c",
            //"libxmp-lite-4.5.0/src/loaders/asylum_load.c",
            //"libxmp-lite-4.5.0/src/loaders/hmn_load.c",
            //"libxmp-lite-4.5.0/src/loaders/mgt_load.c",
            //"libxmp-lite-4.5.0/src/loaders/chip_load.c",
            //"libxmp-lite-4.5.0/src/loaders/abk_load.c",
            //"libxmp-lite-4.5.0/src/loaders/coco_load.c",
        ])
        .include("libxmp-lite-4.5.0/include")
        .include("libxmp-lite-4.5.0/src")
        .define("_REENTRANT", None)
        .define("LIBXMP_CORE_PLAYER", Some("1"))
        .define("LIBXMP_NO_PROWIZARD", None)
        .define("LIBXMP_NO_DEPACKERS", Some("1"))
        .flag_if_supported("-flto=thin")
        .warnings(false)
        .compile("libxmp-lite");
}